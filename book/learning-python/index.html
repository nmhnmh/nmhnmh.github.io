<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/rss.xml" />
<!-- Facebook OG Tags-->
<meta property="og:type" content="website">
<meta property="og:url" content="http://niminghao.com/book/learning-python">
<meta property="og:title" content="读书随笔Learning Python">
<meta property="og:description" content="">
<meta property="og:site_name" content="明浩的个人网站">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://niminghao.com/book/learning-python/cover.jpg">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@niminghao">
<meta name="twitter:creator" content="@niminghao">
<meta name="twitter:url" content="http://niminghao.com/book/learning-python">
<meta name="twitter:title" content="读书随笔：Learning Python">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="http://niminghao.com/book/learning-python/cover.jpg">

<title>读书随笔: Learning Python</title>
    <link rel="stylesheet" href="/assets/css/normalize.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/9.11.0/styles/monokai-sublime.min.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/desktop.css">
    <link rel="stylesheet" href="/assets/css/mobile.css">
  </head>
  <body>
    <header>
      <a href="/" id="logo">明浩的个人网站</a>
      <div id="nav_trigger">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <ul id="nav_menu">
        <li><a href="/posts">写 / Posts</a></li>
        <li><a href="/books">读 / Reading</a></li>
        <li><a href="/projects">做 / Projects</a></li>
        <li><a href="/references">杂 / References</a></li>
        <li><a href="/about">我 / About</a></li>
        <li><input type="text" id="q" placeholder="搜 / Search"></li>
      </ul>
      <div id="q_results">
      </div>
    </header>
    <div class="wrapper">

<div class="">
  <span class="entry_title">Learning Python</span>
  <div class="entry_info">
    
    &nbsp;
    Aug 24, 2017
  </div>
</div>

<div class="content_wrapper">
  <p><img src="cover.jpg" alt="Book Cover" class="book-cover"> </p>
<h1>Modules and Packages</h1>
<h2><strong>Module</strong> vs <strong>Package</strong></h2>
<p>Module is an importable component in python. It could be any python source file, or it could be python extensions written in other languages like C or C++. Package to Module is what Directory to File, although not exactly the same. In real world use cases, package is used to reuse and distribute code, since it is more flexible, powerful in many ways.</p>
<h2><strong>Regular Pakcages</strong> vs <strong>Namespace Packages</strong></h2>
<h2><strong>Normal Imports(import outside packages)</strong> vs <strong>Package Imports(import inside packages)</strong></h2>
<p>Normal imports are all <strong>absolute imports</strong>, Package Imports are <strong>relative-then-absolute imports</strong> in version before python3.3 and <strong>absolute-only</strong> in versions after python3.3.</p>
<h2>The rule of thumb for python imports</h2>
<ol>
<li>
<p>First, what is the running python version?</p>
<p>Python 2.x has old style python import, no relative import.</p>
</li>
<li>
<p>Is it import inside packages?</p>
</li>
<li>
<p>Is it relative import or absolute import?</p>
</li>
</ol>
<h2><strong>Relative Import</strong> vs <strong>Absolute Import</strong> vs <strong>Relative-then-Absolute Import</strong></h2>
<h3>Relative Imports searches only inside current package</h3>
<p>The only valid relative import is like:</p>
<pre><code class="python">from . import xxx
#or
from .. import xxx
#or
from .dir import xxx
</code></pre>

<p>It is always a <em>from</em> style import, the from string always starts with one or two dots. And only use relative imports inside a package, or it will generate an error.
An <strong>ImportError</strong> will be generated if search fails inside current package.</p>
<h3>Absolute Imports searches only paths inside <strong>sys.path</strong> list</h3>
<p>Absolute imports looks like this:</p>
<pre><code class="python">import os
from os import path
from os.path import isdir
</code></pre>

<h3>Relative-then-Absolute Imports searches current package first, if not found, then searches <strong>sys.path</strong></h3>
<p>This Relative-then-Absolute behaviours is only available in Python 2.x, it has the exactly same style with absolute imports.</p>
<h2>Namespace packages</h2>
<p>This is only available in Python3.3+.
Namespace package requires no <strong><strong>init</strong>.py</strong> files, and it is a vritual package, its content could span multiple phisical locations.</p>
<h2>Tips about modules and packages</h2>
<ol>
<li>Hide variables using underscore name styles or with <strong><strong>all</strong></strong> special varaible</li>
<li><strong><strong>all</strong></strong> could be used inside a module or inside <strong><strong>init</strong>.py</strong> file</li>
<li><strong><strong>name</strong></strong> is a special variable inside a module</li>
<li><strong><strong>future</strong></strong> is another special variable</li>
<li><strong>sys.path</strong> is package or module search path, <strong>sys.modules</strong> contains all loaded packages or modules</li>
<li><strong><strong>dict</strong></strong>, <strong><strong>name</strong></strong>, <strong><strong>file</strong></strong> is a special attribute on a module object, to see more, use <strong>dir()</strong> function</li>
</ol>
<h2>Other Tips</h2>
<ol>
<li><strong>types</strong> package is a special package containing types utility for comparing and dynamic creation data of different types</li>
</ol>

  <b>ISBN: </b>9781449355739
  <br>
  <b>Publisher: </b>O'REILLY
  <br>
  <b>Tags: </b>
    <a href="/tags#Book" class="entry_tag"> Book </a>
    <a href="/tags#python" class="entry_tag"> python </a>

</div>

    </div>
    <footer>
        <form style="padding:3px;text-align:center;margin:10px auto;" action="https://tinyletter.com/nmhnmh" method="post" target="popupwindow" onsubmit="window.open('https://tinyletter.com/nmhnmh', 'popupwindow', 'scrollbars=yes,width=800,height=600');return true"><p><label for="tlemail">Subscribe to my personal newsletter</lable></p></p><label for="tlemail">订阅我的个人邮件列表</label></p><p><input type="email" style="border:1px solid #eee; min-width:140px; padding: 5px 10px;" name="email" id="tlemail" placeholder="your email here"/></p><input type="hidden" value="1" name="embed"/><input type="submit" value="Subscribe/订阅" /><p><a href="https://tinyletter.com" target="_blank">powered by TinyLetter</a></p></form>

        <div>
          <a href="https://twitter.com/niminghao" title="Visit My Twitter"><img style="width: 31px; height: 31px;" src="/assets/images/twitter.png" alt="Twitter"></a>
          <a href="#niminghao804.gmail" title="Send me an email: niminghao804.gmail"><img style="width: 31px; height: 31px;" src="/assets/images/gmail.png" alt="Gmail"></a>
          <a href="https://github.com/nmhnmh" title="See me on Github"><img style="width: 31px; height: 31px;" src="/assets/images/github.png" alt="Github"></a>
          <a href="https://www.linkedin.com/in/nmhnmh/" title="Connect with me on Linkedin"><img style="height: 31px;" src="/assets/images/linkedin.png" alt="Linkedin"></a>
          <a href="/rss.xml" title="Subscribe to RSS Feed"><img style="width: 31px; height: 31px;" src="/assets/images/rss.jpg" alt="RSS"></a>
          <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Attribution-NonCommercial-ShareAlike 4.0 International"><img style="height: 31px;" src="/assets/images/cc-by-nc-sa.png" alt="CC BY-NC-SA 4.0"></a>
        </div>
        <div style="font-size: 0.6rem">
          If not explicitly specified, contents on this website are licensed under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
          <br>
          未单独声明的情况下，本站内容默认采用<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>进行许可。
        </div>
    </footer>
    <script src='https://cdn.jsdelivr.net/highlight.js/9.11.0/highlight.min.js'></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src='https://cdn.jsdelivr.net/jquery/3.2.1/jquery.min.js'></script>
    <script src='https://cdn.jsdelivr.net/lunr/1.0.0/lunr.min.js'></script>
    <script>
    function initSearch(){
      var index = window.site_index = lunr(function () {
        this.field('title', {boost: 10})
        this.field('tags')
        this.ref('link');
      })
      var store = window.site_index_store = {};
      $.getJSON('/index.json', function(data){
        var len = data.length;
        for(var i=0;i<len;i++){
          index.add(data[i]);
          store[data[i].link] = data[i];
        }
      })
    }
    function display_result(data){
      var panel = $('#q_results');
      var len = data.length;
      if(len>0){
        panel.show();
        var html = "<ul>";
        for(var i=0;i<len && i<20;i++){
          var item = window.site_index_store[data[i].ref];
          html += "<li><a href='"+item.link+"'>"+item.title+"</a></li>"
        }
        html += "</ul>";
        panel.html(html)
      } else {
        panel.hide();
      }
    }
    var search_timer = null;
    $('#q').on('focus', function(e){
      if(!window.site_index)
        initSearch();
    });
    $('#q').on('keyup', function(e){
      var v = $('#q').val().trim();
      // debounce
      clearTimeout(search_timer);
      // clear result when no query provided
      if(!v){
        display_result([]);
        return;
      }
      search_timer = setTimeout(function(query){
        display_result(window.site_index.search(v));
      }, 300, v);
    });
    </script>
    <script>
    document.getElementById('nav_trigger').addEventListener('click', function(e){
      var menu = document.getElementById('nav_menu');
      var styles = window.getComputedStyle(menu, null);
      if(styles.getPropertyValue('display')==='none'){
        menu.style.display = 'block';
      } else {
        menu.style.display = 'none';
      }
    });
    </script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-89643442-1', 'auto');
    ga('send', 'pageview');
    </script>
  </body>
</html>
